2025-09-29 17:13:39.438 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-29 17:13:39.497 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-29 17:13:39.502 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-29 17:13:39.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-29 17:13:39.522 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-29 17:13:39.538 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-29 17:13:49.499 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-29 17:13:49.564 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-29 17:13:49.569 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-29 17:13:49.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-29 17:13:49.590 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-29 17:13:49.604 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-29 17:13:58.168 +03:00 [INF] Starting MatchFyn API application
2025-09-29 17:13:58.218 +03:00 [INF] User profile is available. Using 'C:\Users\Umut\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:13:58.288 +03:00 [INF] Room Management Background Service started
2025-09-29 17:13:59.260 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5218: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
 ---> System.Net.Sockets.SocketException (10048): Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-29 17:13:59.275 +03:00 [FTL] MatchFyn API application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5218: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
 ---> System.Net.Sockets.SocketException (10048): Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in C:\PROJELER-FLUTTER\MatchFynWebAPI\MatchFynWebAPI\Program.cs:line 206
2025-09-29 17:15:56.879 +03:00 [INF] Starting MatchFyn API application
2025-09-29 17:15:57.080 +03:00 [INF] User profile is available. Using 'C:\Users\Umut\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:15:57.156 +03:00 [INF] Room Management Background Service started
2025-09-29 17:15:59.710 +03:00 [INF] Now listening on: http://localhost:5219
2025-09-29 17:15:59.716 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 17:15:59.718 +03:00 [INF] Hosting environment: Development
2025-09-29 17:15:59.719 +03:00 [INF] Content root path: C:\PROJELER-FLUTTER\MatchFynWebAPI\MatchFynWebAPI
2025-09-29 17:15:59.866 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByUserId], [r].[CurrentParticipants], [r].[Description], [r].[DurationMinutes], [r].[ExpiresAt], [r].[GenderFilter], [r].[IsActive], [r].[IsPremium], [r].[MaxAge], [r].[MaxCapacity], [r].[MinAge], [r].[Name], [r].[Price], [r].[RoomType], [r].[Status], [r].[UpdatedAt]
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[ExpiresAt] IS NOT NULL AND [r].[ExpiresAt] <= GETUTCDATE() AND [r].[RoomType] IN (N'Waiting', N'Matching')
2025-09-29 17:16:00.094 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__inactiveThreshold_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ConnectionId], [r].[DisplayName], [r].[GridPosition], [r].[IsActive], [r].[IsMicrophoneEnabled], [r].[IsSpeaking], [r].[JoinedAt], [r].[LastActivityAt], [r].[LeftAt], [r].[ProfileImageUrl], [r].[Role], [r].[RoomId], [r].[Status], [r].[TotalTimeMinutes], [r].[UserId], [r0].[Id], [r0].[CreatedAt], [r0].[CreatedByUserId], [r0].[CurrentParticipants], [r0].[Description], [r0].[DurationMinutes], [r0].[ExpiresAt], [r0].[GenderFilter], [r0].[IsActive], [r0].[IsPremium], [r0].[MaxAge], [r0].[MaxCapacity], [r0].[MinAge], [r0].[Name], [r0].[Price], [r0].[RoomType], [r0].[Status], [r0].[UpdatedAt]
FROM [RoomParticipants] AS [r]
INNER JOIN [Rooms] AS [r0] ON [r].[RoomId] = [r0].[Id]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[LastActivityAt] < @__inactiveThreshold_0 AND [r].[Status] <> N'Offline'
2025-09-29 17:16:00.255 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[Status] = N'Active'
2025-09-29 17:16:00.292 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:16:00.317 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:16:00.343 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:16:00.487 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByUserId], [r].[CurrentParticipants], [r].[Description], [r].[DurationMinutes], [r].[ExpiresAt], [r].[GenderFilter], [r].[IsActive], [r].[IsPremium], [r].[MaxAge], [r].[MaxCapacity], [r].[MinAge], [r].[Name], [r].[Price], [r].[RoomType], [r].[Status], [r].[UpdatedAt], [t].[Id], [t].[ConnectionId], [t].[DisplayName], [t].[GridPosition], [t].[IsActive], [t].[IsMicrophoneEnabled], [t].[IsSpeaking], [t].[JoinedAt], [t].[LastActivityAt], [t].[LeftAt], [t].[ProfileImageUrl], [t].[Role], [t].[RoomId], [t].[Status], [t].[TotalTimeMinutes], [t].[UserId]
FROM [Rooms] AS [r]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[ConnectionId], [r0].[DisplayName], [r0].[GridPosition], [r0].[IsActive], [r0].[IsMicrophoneEnabled], [r0].[IsSpeaking], [r0].[JoinedAt], [r0].[LastActivityAt], [r0].[LeftAt], [r0].[ProfileImageUrl], [r0].[Role], [r0].[RoomId], [r0].[Status], [r0].[TotalTimeMinutes], [r0].[UserId]
    FROM [RoomParticipants] AS [r0]
    WHERE [r0].[IsActive] = CAST(1 AS bit)
) AS [t] ON [r].[Id] = [t].[RoomId]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[Status] = N'Active' AND [r].[CurrentParticipants] >= [r].[MaxCapacity]
ORDER BY [r].[Id]
2025-09-29 17:16:00.532 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Matching' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:16:00.542 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Matching' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:16:00.548 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Matching' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:17:00.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByUserId], [r].[CurrentParticipants], [r].[Description], [r].[DurationMinutes], [r].[ExpiresAt], [r].[GenderFilter], [r].[IsActive], [r].[IsPremium], [r].[MaxAge], [r].[MaxCapacity], [r].[MinAge], [r].[Name], [r].[Price], [r].[RoomType], [r].[Status], [r].[UpdatedAt]
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[ExpiresAt] IS NOT NULL AND [r].[ExpiresAt] <= GETUTCDATE() AND [r].[RoomType] IN (N'Waiting', N'Matching')
2025-09-29 17:17:00.581 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__inactiveThreshold_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ConnectionId], [r].[DisplayName], [r].[GridPosition], [r].[IsActive], [r].[IsMicrophoneEnabled], [r].[IsSpeaking], [r].[JoinedAt], [r].[LastActivityAt], [r].[LeftAt], [r].[ProfileImageUrl], [r].[Role], [r].[RoomId], [r].[Status], [r].[TotalTimeMinutes], [r].[UserId], [r0].[Id], [r0].[CreatedAt], [r0].[CreatedByUserId], [r0].[CurrentParticipants], [r0].[Description], [r0].[DurationMinutes], [r0].[ExpiresAt], [r0].[GenderFilter], [r0].[IsActive], [r0].[IsPremium], [r0].[MaxAge], [r0].[MaxCapacity], [r0].[MinAge], [r0].[Name], [r0].[Price], [r0].[RoomType], [r0].[Status], [r0].[UpdatedAt]
FROM [RoomParticipants] AS [r]
INNER JOIN [Rooms] AS [r0] ON [r].[RoomId] = [r0].[Id]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[LastActivityAt] < @__inactiveThreshold_0 AND [r].[Status] <> N'Offline'
2025-09-29 17:17:00.589 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[Status] = N'Active'
2025-09-29 17:17:00.596 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:17:00.606 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:17:00.610 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:17:00.622 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByUserId], [r].[CurrentParticipants], [r].[Description], [r].[DurationMinutes], [r].[ExpiresAt], [r].[GenderFilter], [r].[IsActive], [r].[IsPremium], [r].[MaxAge], [r].[MaxCapacity], [r].[MinAge], [r].[Name], [r].[Price], [r].[RoomType], [r].[Status], [r].[UpdatedAt], [t].[Id], [t].[ConnectionId], [t].[DisplayName], [t].[GridPosition], [t].[IsActive], [t].[IsMicrophoneEnabled], [t].[IsSpeaking], [t].[JoinedAt], [t].[LastActivityAt], [t].[LeftAt], [t].[ProfileImageUrl], [t].[Role], [t].[RoomId], [t].[Status], [t].[TotalTimeMinutes], [t].[UserId]
FROM [Rooms] AS [r]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[ConnectionId], [r0].[DisplayName], [r0].[GridPosition], [r0].[IsActive], [r0].[IsMicrophoneEnabled], [r0].[IsSpeaking], [r0].[JoinedAt], [r0].[LastActivityAt], [r0].[LeftAt], [r0].[ProfileImageUrl], [r0].[Role], [r0].[RoomId], [r0].[Status], [r0].[TotalTimeMinutes], [r0].[UserId]
    FROM [RoomParticipants] AS [r0]
    WHERE [r0].[IsActive] = CAST(1 AS bit)
) AS [t] ON [r].[Id] = [t].[RoomId]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Waiting' AND [r].[Status] = N'Active' AND [r].[CurrentParticipants] >= [r].[MaxCapacity]
ORDER BY [r].[Id]
2025-09-29 17:17:00.633 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Matching' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:17:00.638 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Matching' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
2025-09-29 17:17:00.642 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__gender_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Rooms] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit) AND [r].[RoomType] = N'Matching' AND [r].[GenderFilter] = @__gender_0 AND [r].[Status] = N'Active'
